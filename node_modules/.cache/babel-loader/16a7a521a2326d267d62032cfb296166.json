{"ast":null,"code":"import _objectSpread from \"C:/Users/Svenn\\xE6rn/Desktop/laddel-mvp/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _objectWithoutProperties from \"C:/Users/Svenn\\xE6rn/Desktop/laddel-mvp/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"component\", \"auth\"];\n\nvar _jsxFileName = \"C:\\\\Users\\\\Svenn\\xE6rn\\\\Desktop\\\\laddel-mvp\\\\frontend\\\\src\\\\components\\\\PrivateRoute.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport { Redirect, Route } from \"react-router-dom\";\nimport { useEffect } from \"react\";\nimport { connect, useDispatch } from \"react-redux\";\nimport { authUser } from \"../actions/userActions\";\n/**\r\n * Komponent som muliggjør implementering av beskyttet Route\r\n * Er enten tom komponent (isLoading), beskyttet komponent (isAuthorized)\r\n * eller en redirect til /login (!isAuthorized).\r\n * @param component - komponent som skal beskyttes\r\n * @param ...rest - resten av propsene til komponenten\r\n * @param auth - state fra userReducer\r\n * @component\r\n * @author Magnus\r\n */\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar PrivateRoute = function PrivateRoute(_ref) {\n  _s();\n\n  var Component = _ref.component,\n      auth = _ref.auth,\n      rest = _objectWithoutProperties(_ref, _excluded);\n\n  var dispatch = useDispatch();\n  useEffect(function () {\n    dispatch(authUser());\n  }, []);\n\n  if (auth.isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 13\n    }, _this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(Route, _objectSpread(_objectSpread({}, rest), {}, {\n    render: function render(props) {\n      return auth.isAuthenticated ? /*#__PURE__*/_jsxDEV(Component, _objectSpread({}, props), void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 45\n      }, _this) : /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 72\n      }, _this);\n    }\n  }), void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 9\n  }, _this);\n};\n\n_s(PrivateRoute, \"rAh3tY+Iv6hWC9AI4Dm+rCbkwNE=\", false, function () {\n  return [useDispatch];\n});\n\n_c = PrivateRoute;\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    auth: state.auth\n  };\n};\n\nexport default connect(mapStateToProps)(PrivateRoute);\n\nvar _c;\n\n$RefreshReg$(_c, \"PrivateRoute\");","map":{"version":3,"sources":["C:/Users/Svennærn/Desktop/laddel-mvp/frontend/src/components/PrivateRoute.js"],"names":["Redirect","Route","useEffect","connect","useDispatch","authUser","PrivateRoute","Component","component","auth","rest","dispatch","isLoading","props","isAuthenticated","mapStateToProps","state"],"mappings":";;;;;;;;AAAA,SAAQA,QAAR,EAAkBC,KAAlB,QAA8B,kBAA9B;AACA,SAASC,SAAT,QAA0B,OAA1B;AACA,SAAQC,OAAR,EAAiBC,WAAjB,QAAmC,aAAnC;AACA,SAAQC,QAAR,QAAuB,wBAAvB;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AACA,IAAMC,YAAY,GAAG,SAAfA,YAAe,OAA6C;AAAA;;AAAA,MAA/BC,SAA+B,QAA1CC,SAA0C;AAAA,MAApBC,IAAoB,QAApBA,IAAoB;AAAA,MAAXC,IAAW;;AAE9D,MAAMC,QAAQ,GAAGP,WAAW,EAA5B;AAEAF,EAAAA,SAAS,CAAC,YAAM;AACZS,IAAAA,QAAQ,CAACN,QAAQ,EAAT,CAAR;AACH,GAFQ,EAEN,EAFM,CAAT;;AAIA,MAAII,IAAI,CAACG,SAAT,EAAoB;AAChB,wBACI;AAAA;AAAA;AAAA;AAAA,aADJ;AAGH;;AACD,sBACI,QAAC,KAAD,kCAAWF,IAAX;AAAiB,IAAA,MAAM,EAAE,gBAACG,KAAD,EAAW;AAChC,aAAQJ,IAAI,CAACK,eAAN,gBAAyB,QAAC,SAAD,oBAAeD,KAAf;AAAA;AAAA;AAAA;AAAA,eAAzB,gBAAoD,QAAC,QAAD;AAAU,QAAA,EAAE,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,eAA3D;AACH;AAFD;AAAA;AAAA;AAAA;AAAA,WADJ;AAKH,CAlBD;;GAAMP,Y;UAEeF,W;;;KAFfE,Y;;AAoBN,IAAMS,eAAe,GAAG,SAAlBA,eAAkB,CAACC,KAAD,EAAW;AAC/B,SAAO;AACHP,IAAAA,IAAI,EAAEO,KAAK,CAACP;AADT,GAAP;AAGH,CAJD;;AAMA,eAAeN,OAAO,CAACY,eAAD,CAAP,CAAyBT,YAAzB,CAAf","sourcesContent":["import {Redirect, Route} from \"react-router-dom\";\r\nimport { useEffect } from \"react\";\r\nimport {connect, useDispatch} from \"react-redux\";\r\nimport {authUser} from \"../actions/userActions\";\r\n\r\n/**\r\n * Komponent som muliggjør implementering av beskyttet Route\r\n * Er enten tom komponent (isLoading), beskyttet komponent (isAuthorized)\r\n * eller en redirect til /login (!isAuthorized).\r\n * @param component - komponent som skal beskyttes\r\n * @param ...rest - resten av propsene til komponenten\r\n * @param auth - state fra userReducer\r\n * @component\r\n * @author Magnus\r\n */\r\nconst PrivateRoute = ({ component: Component, auth, ...rest }) => {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        dispatch(authUser());\r\n    }, []);\r\n\r\n    if (auth.isLoading) {\r\n        return (\r\n            <div></div>\r\n        )\r\n    }\r\n    return (\r\n        <Route {...rest} render={(props) => {\r\n            return (auth.isAuthenticated) ? <Component {...props} /> : <Redirect to=\"/login\" />\r\n        }} />\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        auth: state.auth\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(PrivateRoute);"]},"metadata":{},"sourceType":"module"}