{"ast":null,"code":"import _slicedToArray from \"C:/Users/Svenn\\xE6rn/Desktop/laddel-mvp/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Svenn\\xE6rn\\\\Desktop\\\\laddel-mvp\\\\frontend\\\\src\\\\components\\\\ChargerMarker.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useRef, useState } from 'react';\nimport { Marker, Popup } from \"react-leaflet\";\nimport { Link } from \"react-router-dom\";\nimport getChargerOperatingMode from \"../services/charger/getChargerOperatingMode\";\nimport { STATES } from \"../misc/constants\";\nimport { iconAvailable, iconUnavailable, iconPending } from \"../misc/leafletIcons\";\nimport loading from '../media/loading.gif';\nimport { startCharger } from \"../services/charger/startChargingService\";\nimport { connect } from \"react-redux\";\nimport { addMinutes, dateToHHMM, UTCToLocalTime } from \"../services/time/timeService\";\n/**\r\n * A prototype that converts a date object to DDMMHHMM format\r\n * @return {string} a Date in DDMMHHMM string format\r\n */\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nDate.prototype.ddmmhhmm = function () {\n  return (this.getDate() < 10 ? \"0\" + this.getDate() : this.getDate()) + \"/\" + (this.getMonth() + 1 < 10 ? \"0\" + (this.getMonth() + 1) : this.getMonth() + 1) + \" \" + (this.getHours() < 10 ? \"0\" + this.getHours() : this.getHours()) + \":\" + (this.getMinutes() < 10 ? \"0\" + this.getMinutes() : this.getMinutes());\n};\n/**\r\n * @author Sven\r\n * @version 06/08/2021\r\n * A component for placing a marker on a map\r\n * @param props {address, active, chargerName, city, id, latitude, longitude, postalCode, scheduledEnd}\r\n */\n\n\nvar ChargerMarker = function ChargerMarker(props) {\n  _s();\n\n  var _useState = useState(-1),\n      _useState2 = _slicedToArray(_useState, 2),\n      active = _useState2[0],\n      setActive = _useState2[1];\n\n  var _useState3 = useState(0),\n      _useState4 = _slicedToArray(_useState3, 2),\n      zIndexOffset = _useState4[0],\n      setZIndexOffset = _useState4[1];\n\n  var _useState5 = useState(iconUnavailable),\n      _useState6 = _slicedToArray(_useState5, 2),\n      icon = _useState6[0],\n      setIcon = _useState6[1];\n\n  var _useState7 = useState(null),\n      _useState8 = _slicedToArray(_useState7, 2),\n      popupContent = _useState8[0],\n      setPopupContent = _useState8[1];\n\n  var updateChargerProps = function updateChargerProps() {\n    if (props.active === 1) {\n      if (props.session.session !== null && props.id === props.session.session.chargerID) {\n        if (props.scheduledEnd) {\n          setIcon(iconAvailable);\n          setZIndexOffset(3);\n          setPopupContent( /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"Du har en aktiv lade\\xF8kt med denne laderen\", /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"popupButton\",\n              children: \"Vis lade\\xF8kt\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 44,\n              columnNumber: 25\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 37\n          }, _this));\n        } else {\n          setZIndexOffset(3);\n          setIcon(iconPending);\n          setPopupContent( /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"Du har reservert denne laderen\", /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: function onClick() {\n                props.handleClickStartCharger();\n              },\n              style: {\n                backgroundColor: \"#EAC43D\"\n              },\n              className: \"popupButton\",\n              children: \"Start lading\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 25\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 37\n          }, _this));\n        }\n      } else if (props.scheduledEnd !== null) {\n        setIcon(iconUnavailable);\n        setZIndexOffset(1);\n        setPopupContent( /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Denne laderen er reservert til \", props.scheduledEnd]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }, _this));\n      } else {\n        setZIndexOffset(1);\n        setIcon(iconUnavailable);\n        setPopupContent( /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"Denne laderen er reservert\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 33\n        }, _this));\n      }\n    } else if (props.active === 0) {\n      setIcon(iconAvailable);\n\n      if (props.session.session !== null) {\n        setZIndexOffset(2);\n        setPopupContent( /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"Du har allerede en lade\\xF8kt\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 33\n        }, _this));\n      } else {\n        setZIndexOffset(2);\n        setPopupContent( /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Ledig, reserver \", /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: function onClick() {\n              return props.handleClickReserve(props.id);\n            },\n            className: \"popupButton\",\n            children: \"Reserver\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 54\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 33\n        }, _this));\n      }\n    }\n  };\n\n  useEffect(function () {\n    updateChargerProps();\n  }, [props.session.session]);\n  return /*#__PURE__*/_jsxDEV(Marker, {\n    eventHandlers: {\n      click: function click() {\n        // Event handler for when you click on a marker\n        setPopupContent( /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Henter laderstatus\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 42\n          }, _this), /*#__PURE__*/_jsxDEV(\"img\", {\n            style: {\n              width: \"5ch\",\n              height: \"5ch\"\n            },\n            src: loading\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 69\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 37\n        }, _this));\n        getChargerOperatingMode(props.id).then(function (x) {\n          // Fetch the charger's operating mode\n          if (x.data.operatingMode === -1) {\n            setActive(0);\n            setIcon(iconUnavailable);\n            setPopupContent( /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"Denne laderen er ikke p\\xE5 nett\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 50\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 45\n            }, _this));\n            return;\n          }\n\n          if (x.data.operatingMode !== STATES.NOCARCONNECTED && active !== 1) {\n            setActive(1);\n          }\n\n          updateChargerProps();\n        });\n      }\n    },\n    icon: icon,\n    zIndexOffset: zIndexOffset // Render chargers that are available on top of unavailable chargers\n    ,\n    position: [props.latitude, props.longitude],\n    children: /*#__PURE__*/_jsxDEV(Popup, {\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"laddelGreen\",\n          children: props.chargerName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: props.address + \", \" + props.postalCode + \" \" + props.city\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 21\n        }, _this), popupContent]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 17\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 9\n  }, _this);\n};\n\n_s(ChargerMarker, \"LM6QIsnsuzf545/LCM+tUnv3PI0=\");\n\n_c = ChargerMarker;\nexport default ChargerMarker;\n\nvar _c;\n\n$RefreshReg$(_c, \"ChargerMarker\");","map":{"version":3,"sources":["C:/Users/Svennærn/Desktop/laddel-mvp/frontend/src/components/ChargerMarker.js"],"names":["React","useEffect","useRef","useState","Marker","Popup","Link","getChargerOperatingMode","STATES","iconAvailable","iconUnavailable","iconPending","loading","startCharger","connect","addMinutes","dateToHHMM","UTCToLocalTime","Date","prototype","ddmmhhmm","getDate","getMonth","getHours","getMinutes","ChargerMarker","props","active","setActive","zIndexOffset","setZIndexOffset","icon","setIcon","popupContent","setPopupContent","updateChargerProps","session","id","chargerID","scheduledEnd","handleClickStartCharger","backgroundColor","handleClickReserve","click","width","height","then","x","data","operatingMode","NOCARCONNECTED","latitude","longitude","chargerName","address","postalCode","city"],"mappings":"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","sourcesContent":["import React, {useEffect, useRef, useState} from 'react';\r\nimport {Marker, Popup} from \"react-leaflet\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\nimport getChargerOperatingMode from \"../services/charger/getChargerOperatingMode\";\r\n\r\nimport {STATES} from \"../misc/constants\";\r\nimport {iconAvailable, iconUnavailable, iconPending} from \"../misc/leafletIcons\";\r\nimport loading from '../media/loading.gif';\r\nimport {startCharger} from \"../services/charger/startChargingService\";\r\nimport {connect} from \"react-redux\";\r\nimport {addMinutes, dateToHHMM, UTCToLocalTime} from \"../services/time/timeService\";\r\n\r\n/**\r\n * A prototype that converts a date object to DDMMHHMM format\r\n * @return {string} a Date in DDMMHHMM string format\r\n */\r\nDate.prototype.ddmmhhmm = function () {\r\n    return (this.getDate() < 10 ? (\"0\" + this.getDate()) : this.getDate()) + \"/\" + ((this.getMonth() + 1) < 10 ? (\"0\" + (this.getMonth() + 1)) : (this.getMonth() + 1)) + \" \" +\r\n        (this.getHours() < 10 ? (\"0\" + this.getHours()) : this.getHours())\r\n        + \":\" + (this.getMinutes() < 10 ? (\"0\" + this.getMinutes()) : this.getMinutes());\r\n}\r\n\r\n/**\r\n * @author Sven\r\n * @version 06/08/2021\r\n * A component for placing a marker on a map\r\n * @param props {address, active, chargerName, city, id, latitude, longitude, postalCode, scheduledEnd}\r\n */\r\nconst ChargerMarker = (props) => {\r\n\r\n    const [active, setActive] = useState(-1);\r\n    const [zIndexOffset, setZIndexOffset] = useState(0);\r\n    const [icon, setIcon] = useState(iconUnavailable);\r\n    const [popupContent, setPopupContent] = useState(null);\r\n\r\n    const updateChargerProps = () => {\r\n        if (props.active === 1) {\r\n            if (props.session.session !== null && props.id === props.session.session.chargerID) {\r\n                if (props.scheduledEnd) {\r\n                    setIcon(iconAvailable)\r\n                    setZIndexOffset(3);\r\n                    setPopupContent(<div>Du har en aktiv ladeøkt med denne laderen\r\n                        <button className=\"popupButton\">Vis ladeøkt</button>\r\n                    </div>)\r\n                } else {\r\n                    setZIndexOffset(3);\r\n                    setIcon(iconPending);\r\n                    setPopupContent(<div>Du har reservert denne laderen\r\n                        <button onClick={() => {\r\n                            props.handleClickStartCharger();\r\n                        }} style={{backgroundColor: \"#EAC43D\"}} className=\"popupButton\">Start lading</button></div>)\r\n                }\r\n            } else if (props.scheduledEnd !== null) {\r\n                setIcon(iconUnavailable);\r\n                setZIndexOffset(1);\r\n                setPopupContent(\r\n                    <div>Denne laderen er reservert til {props.scheduledEnd}\r\n                    </div>);\r\n            } else {\r\n                setZIndexOffset(1);\r\n                setIcon(iconUnavailable);\r\n                setPopupContent(<div>Denne laderen er reservert</div>)\r\n            }\r\n        } else if (props.active === 0) {\r\n            setIcon(iconAvailable);\r\n            if (props.session.session !== null) {\r\n                setZIndexOffset(2);\r\n                setPopupContent(<div>Du har allerede en ladeøkt</div>)\r\n            } else {\r\n                setZIndexOffset(2);\r\n                setPopupContent(<div>Ledig, reserver <button onClick={() =>\r\n                    props.handleClickReserve(props.id)} className=\"popupButton\">Reserver</button></div>)\r\n            }\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n            updateChargerProps();\r\n        }, [props.session.session]\r\n    );\r\n\r\n    return (\r\n        <Marker\r\n            eventHandlers={{\r\n                click: () => {\r\n                    // Event handler for when you click on a marker\r\n                    setPopupContent(<div><h3>Henter laderstatus</h3><img style={{width: \"5ch\", height: \"5ch\"}} src={loading}/></div>);\r\n                    getChargerOperatingMode(props.id).then(x => { // Fetch the charger's operating mode\r\n                        if(x.data.operatingMode === -1) {\r\n                            setActive(0);\r\n                            setIcon(iconUnavailable);\r\n                            setPopupContent(<div><h3>Denne laderen er ikke på nett</h3></div>);\r\n                            return;\r\n                        }\r\n                        if (x.data.operatingMode !== STATES.NOCARCONNECTED && active !== 1) {\r\n                            setActive(1);\r\n                        }\r\n                        updateChargerProps();\r\n                    })\r\n                }\r\n            }}\r\n            icon={icon}\r\n            zIndexOffset={zIndexOffset} // Render chargers that are available on top of unavailable chargers\r\n            position={[props.latitude, props.longitude]}>\r\n            <Popup>\r\n                <span>\r\n                    <h4 className=\"laddelGreen\">{props.chargerName}</h4>\r\n                    <h4>{props.address + \", \" + props.postalCode + \" \" + props.city}</h4>\r\n                    {popupContent}\r\n                </span>\r\n            </Popup>\r\n        </Marker>\r\n    )\r\n}\r\n\r\nexport default ChargerMarker;\r\n"]},"metadata":{},"sourceType":"module"}