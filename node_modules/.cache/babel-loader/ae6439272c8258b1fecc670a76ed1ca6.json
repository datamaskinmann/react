{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/Svenn\\xE6rn/Desktop/laddel-mvp/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/Svenn\\xE6rn/Desktop/laddel-mvp/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { fetchActiveSession } from \"../services/charger/fetchSessionService\";\nimport getPendingSession from \"../services/charger/getPendingSession\";\n/**\r\n * @author Magnus\r\n * @version 06/08/2021\r\n * Dispatches actions to sessionReducer.\r\n * GetSession\r\n */\n\nexport var ACTION_TYPES = {\n  FETCH_SESSION_PENDING: 'FETCH_SESSION_PENDING',\n  FETCH_ACTIVE_SUCCESS: 'FETCH_SESSION:SUCCESS',\n  FETCH_ACTIVE_FAILURE: 'FETCH_SESSION_FAILURE',\n  FETCH_PENDING_SUCCESS: 'FETCH_PENDING_SUCCESS',\n  FETCH_PENDING_FAILURE: 'FETCH_PENDING_FAILURE'\n};\n/**\r\n * Async method\r\n * Fetches current session and dispatches actions\r\n * in accord with response/error.\r\n * @return function\r\n */\n\nexport var getSession = function getSession() {\n  return /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              dispatch({\n                type: ACTION_TYPES.FETCH_SESSION_PENDING,\n                payload: null\n              });\n              fetchActiveSession().then(function (response) {\n                dispatch({\n                  type: ACTION_TYPES.FETCH_ACTIVE_SUCCESS,\n                  payload: response\n                });\n              }).catch(function (error) {\n                dispatch({\n                  type: ACTION_TYPES.FETCH_ACTIVE_FAILURE,\n                  payload: error\n                });\n                dispatch({\n                  type: ACTION_TYPES.FETCH_SESSION_PENDING,\n                  payload: null\n                });\n                getPendingSession().then(function (response) {\n                  dispatch({\n                    type: ACTION_TYPES.FETCH_PENDING_SUCCESS,\n                    payload: response\n                  });\n                }).catch(function (error) {\n                  dispatch({\n                    type: ACTION_TYPES.FETCH_PENDING_FAILURE,\n                    payload: error\n                  });\n                });\n              });\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n};","map":{"version":3,"sources":["C:/Users/SvennÃ¦rn/Desktop/laddel-mvp/frontend/src/actions/sessionActions.js"],"names":["fetchActiveSession","getPendingSession","ACTION_TYPES","FETCH_SESSION_PENDING","FETCH_ACTIVE_SUCCESS","FETCH_ACTIVE_FAILURE","FETCH_PENDING_SUCCESS","FETCH_PENDING_FAILURE","getSession","dispatch","type","payload","then","response","catch","error"],"mappings":";;AAAA,SAAQA,kBAAR,QAAiC,yCAAjC;AACA,OAAOC,iBAAP,MAA8B,uCAA9B;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO,IAAMC,YAAY,GAAG;AACxBC,EAAAA,qBAAqB,EAAE,uBADC;AAExBC,EAAAA,oBAAoB,EAAE,uBAFE;AAGxBC,EAAAA,oBAAoB,EAAE,uBAHE;AAIxBC,EAAAA,qBAAqB,EAAE,uBAJC;AAKxBC,EAAAA,qBAAqB,EAAE;AALC,CAArB;AAQP;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,IAAMC,UAAU,GAAG,SAAbA,UAAa,GAAM;AAC5B;AAAA,wEAAO,iBAAOC,QAAP;AAAA;AAAA;AAAA;AAAA;AACHA,cAAAA,QAAQ,CAAC;AAACC,gBAAAA,IAAI,EAAER,YAAY,CAACC,qBAApB;AAA2CQ,gBAAAA,OAAO,EAAE;AAApD,eAAD,CAAR;AACAX,cAAAA,kBAAkB,GAAGY,IAArB,CAA0B,UAAAC,QAAQ,EAAI;AAClCJ,gBAAAA,QAAQ,CAAC;AAACC,kBAAAA,IAAI,EAAER,YAAY,CAACE,oBAApB;AAA0CO,kBAAAA,OAAO,EAAEE;AAAnD,iBAAD,CAAR;AACH,eAFD,EAEGC,KAFH,CAES,UAAAC,KAAK,EAAI;AACdN,gBAAAA,QAAQ,CAAC;AAACC,kBAAAA,IAAI,EAAER,YAAY,CAACG,oBAApB;AAA0CM,kBAAAA,OAAO,EAAEI;AAAnD,iBAAD,CAAR;AACAN,gBAAAA,QAAQ,CAAC;AAACC,kBAAAA,IAAI,EAAER,YAAY,CAACC,qBAApB;AAA2CQ,kBAAAA,OAAO,EAAE;AAApD,iBAAD,CAAR;AACAV,gBAAAA,iBAAiB,GAAGW,IAApB,CAAyB,UAAAC,QAAQ,EAAI;AACjCJ,kBAAAA,QAAQ,CAAC;AAACC,oBAAAA,IAAI,EAAER,YAAY,CAACI,qBAApB;AAA2CK,oBAAAA,OAAO,EAAEE;AAApD,mBAAD,CAAR;AACH,iBAFD,EAEGC,KAFH,CAES,UAAAC,KAAK,EAAI;AACdN,kBAAAA,QAAQ,CAAC;AAACC,oBAAAA,IAAI,EAAER,YAAY,CAACK,qBAApB;AAA2CI,oBAAAA,OAAO,EAAEI;AAApD,mBAAD,CAAR;AACH,iBAJD;AAKH,eAVD;;AAFG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAP;;AAAA;AAAA;AAAA;AAAA;AAcH,CAfM","sourcesContent":["import {fetchActiveSession} from \"../services/charger/fetchSessionService\";\r\nimport getPendingSession from \"../services/charger/getPendingSession\";\r\n\r\n/**\r\n * @author Magnus\r\n * @version 06/08/2021\r\n * Dispatches actions to sessionReducer.\r\n * GetSession\r\n */\r\n\r\nexport const ACTION_TYPES = {\r\n    FETCH_SESSION_PENDING: 'FETCH_SESSION_PENDING',\r\n    FETCH_ACTIVE_SUCCESS: 'FETCH_SESSION:SUCCESS',\r\n    FETCH_ACTIVE_FAILURE: 'FETCH_SESSION_FAILURE',\r\n    FETCH_PENDING_SUCCESS: 'FETCH_PENDING_SUCCESS',\r\n    FETCH_PENDING_FAILURE: 'FETCH_PENDING_FAILURE'\r\n};\r\n\r\n/**\r\n * Async method\r\n * Fetches current session and dispatches actions\r\n * in accord with response/error.\r\n * @return function\r\n */\r\nexport const getSession = () => {\r\n    return async (dispatch) => {\r\n        dispatch({type: ACTION_TYPES.FETCH_SESSION_PENDING, payload: null});\r\n        fetchActiveSession().then(response => {\r\n            dispatch({type: ACTION_TYPES.FETCH_ACTIVE_SUCCESS, payload: response});\r\n        }).catch(error => {\r\n            dispatch({type: ACTION_TYPES.FETCH_ACTIVE_FAILURE, payload: error})\r\n            dispatch({type: ACTION_TYPES.FETCH_SESSION_PENDING, payload: null});\r\n            getPendingSession().then(response => {\r\n                dispatch({type: ACTION_TYPES.FETCH_PENDING_SUCCESS, payload: response});\r\n            }).catch(error => {\r\n                dispatch({type: ACTION_TYPES.FETCH_PENDING_FAILURE, payload: error});\r\n            })\r\n        });\r\n    };\r\n};\r\n"]},"metadata":{},"sourceType":"module"}